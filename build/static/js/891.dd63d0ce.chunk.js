"use strict";(self.webpackChunkPicka_a=self.webpackChunkPicka_a||[]).push([[891],{8891:function(e,t,r){r.r(t),r.d(t,{default:function(){return H}});var a=r(5671),n=r(3144),l=r(136),o=r(8557),s=r(8381),i=r.n(s),c=r(4367),m=r(1722),d=r(6244),u=r(1127),g=r(244),p=r(2461),y=r(4446),h=r.n(y),v=r(4521),f=r(9533),E=r.n(f),w=r(4155),b=r.n(w),_=r(5272),N=r(5231),x=function(e){(0,l.Z)(r,e);var t=(0,o.Z)(r);function r(){var e;(0,a.Z)(this,r);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).__refreshOrders=function(){e.refs.btnSpinner&&e.refs.btnSpinner.classList.add("fa-spin"),setTimeout((function(){e.refs.btnSpinner&&e.refs.btnSpinner.classList.remove("fa-spin")}),2e3),e.props.refreshOrders()},e.getDeliveryGuyTotalEarning=function(e){var t=0;return e.commission&&(t+=parseFloat(e.commission)),e.tip_amount&&(t+=parseFloat(e.tip_amount)),t},e}return(0,n.Z)(r,[{key:"componentDidMount",value:function(){document.getElementsByTagName("body")[0].classList.remove("bg-grey"),document.getElementsByTagName("body")[0].classList.add("delivery-dark-bg")}},{key:"render",value:function(){var e=this,t=this.props,r=t.new_orders,a=t.delivery_user;return i().createElement(i().Fragment,null,i().createElement("div",{className:"mb-100"},i().createElement("div",{className:"d-flex justify-content-between nav-dark"},a.data.status?i().createElement(i().Fragment,null,i().createElement("div",{className:"delivery-tab-title px-20 py-15"},localStorage.getItem("deliveryNewOrdersTitle")),i().createElement("div",{className:"delivery-order-refresh"},i().createElement("button",{className:"btn btn-refreshOrders mr-15",onClick:this.__refreshOrders,style:{position:"relative"}},localStorage.getItem("deliveryOrdersRefreshBtn")," ",i().createElement("i",{ref:"btnSpinner",className:"fa fa-refresh"}),i().createElement(E(),{duration:1200})))):null),a.data.status?i().createElement(i().Fragment,null,0===r.length?i().createElement("p",{className:"text-center text-muted py-15 mb-10 bg-white"},localStorage.getItem("deliveryNoNewOrders")):i().createElement("div",{className:"p-15"},i().createElement("div",{className:"delivery-list-wrapper pb-20"},r.map((function(t){return i().createElement(_.Z,{to:"/orders/".concat(t.unique_order_id),key:t.id,style:{position:"relative"}},i().createElement("div",{className:"delivery-list-item px-15 pb-5 pt-15"},i().createElement("div",{className:"d-flex justify-content-between"},i().createElement("div",null,i().createElement("p",{className:"m-0"},"true"===localStorage.getItem("showFromNowDate")?i().createElement(b(),{fromNow:!0},t.updated_at):i().createElement(b(),{format:"DD/MM/YYYY hh:mma"},t.updated_at))),i().createElement("div",null,"true"===localStorage.getItem("enableDeliveryGuyEarning")&&i().createElement("p",{className:"m-0 list-delivery-commission"},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),i().createElement(N.Z,{to:e.getDeliveryGuyTotalEarning(t),speed:1e3,digits:2}),"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat")))),i().createElement("div",{className:"d-flex justify-content-between"},i().createElement("div",{className:"font-w700 list-delivery-store-name"},t.restaurant.name),i().createElement("div",null,i().createElement("p",{className:"m-0 font-w700"},"#",t.unique_order_id.substr(t.unique_order_id.length-8)))),i().createElement("p",null,"true"===localStorage.getItem("showDeliveryFullAddressOnList")?i().createElement("span",null,t.address):i().createElement("span",{className:"d-flex align-items-center"},i().createElement("i",{className:"si si-pointer mr-2"}),i().createElement("span",{style:{maxWidth:"100%",display:"block"},className:"truncate-text"},t.address)))),i().createElement(E(),{duration:"500",hasTouch:"true"}))}))))):i().createElement("div",{className:"d-flex justify-content-center pt-100"},i().createElement("div",{className:"delivery-guy-status delivery-guy-offline"},i().createElement("span",null,localStorage.getItem("deliveryAppYouAreOfflineBtn"))))))}}]),r}(s.Component),S=x,k=function(e){(0,l.Z)(r,e);var t=(0,o.Z)(r);function r(){var e;(0,a.Z)(this,r);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).__refreshOrders=function(){e.refs.btnSpinner&&e.refs.btnSpinner.classList.add("fa-spin"),setTimeout((function(){e.refs.btnSpinner&&e.refs.btnSpinner.classList.remove("fa-spin")}),2e3),e.props.refreshOrders()},e.getDeliveryGuyTotalEarning=function(e){var t=0;return e.commission&&(t+=parseFloat(e.commission)),e.tip_amount&&(t+=parseFloat(e.tip_amount)),t},e}return(0,n.Z)(r,[{key:"componentDidMount",value:function(){document.getElementsByTagName("body")[0].classList.remove("bg-grey"),document.getElementsByTagName("body")[0].classList.add("delivery-dark-bg")}},{key:"render",value:function(){var e=this,t=this.props.accepted_orders;return i().createElement(i().Fragment,null,i().createElement("div",{className:"mb-100"},i().createElement("div",{className:"d-flex justify-content-between nav-dark"},i().createElement("div",{className:"delivery-tab-title px-20 py-15"},localStorage.getItem("deliveryAcceptedOrdersTitle")),i().createElement("div",{className:"delivery-order-refresh"},i().createElement("button",{className:"btn btn-refreshOrders mr-15",onClick:this.__refreshOrders,style:{position:"relative"}},localStorage.getItem("deliveryOrdersRefreshBtn")," ",i().createElement("i",{ref:"btnSpinner",className:"fa fa-refresh"}),i().createElement(E(),{duration:1200})))),0===t.length?i().createElement("p",{className:"text-center text-muted py-15 mb-10 bg-white"},localStorage.getItem("deliveryNoOrdersAccepted")):i().createElement("div",{className:"p-15"},i().createElement("div",{className:"delivery-list-wrapper pb-20"},t.map((function(t){return i().createElement(_.Z,{to:"/orders/".concat(t.unique_order_id),key:t.id,style:{position:"relative"}},i().createElement("div",{className:"delivery-list-item px-15 pb-5 pt-15"},i().createElement("div",{className:"d-flex justify-content-between"},i().createElement("div",null,i().createElement("p",{className:"m-0"},"true"===localStorage.getItem("showFromNowDate")?i().createElement(b(),{fromNow:!0},t.updated_at):i().createElement(b(),{format:"DD/MM/YYYY hh:mma"},t.updated_at))),i().createElement("div",null,"true"===localStorage.getItem("enableDeliveryGuyEarning")&&i().createElement("p",{className:"m-0 list-delivery-commission"},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),i().createElement(N.Z,{to:e.getDeliveryGuyTotalEarning(t),speed:1e3,digits:2}),"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat")))),i().createElement("div",{className:"d-flex justify-content-between"},i().createElement("div",{className:"font-w700 list-delivery-store-name"},t.restaurant.name),i().createElement("div",null,i().createElement("p",{className:"m-0 font-w700"},"#",t.unique_order_id.substr(t.unique_order_id.length-8)))),i().createElement("p",null,"true"===localStorage.getItem("showDeliveryFullAddressOnList")?i().createElement("span",null,t.address):i().createElement("span",{className:"d-flex align-items-center"},i().createElement("i",{className:"si si-pointer mr-2"}),i().createElement("span",{style:{maxWidth:"100%",display:"block"},className:"truncate-text"},t.address)))),i().createElement(E(),{duration:"500",hasTouch:"true"}))}))))))}}]),r}(s.Component),I=k,O=r(2982),D=function(e){(0,l.Z)(r,e);var t=(0,o.Z)(r);function r(){return(0,a.Z)(this,r),t.apply(this,arguments)}return(0,n.Z)(r,[{key:"render",value:function(){var e=this.props.order;return i().createElement(i().Fragment,null,i().createElement("div",{className:"delivery-account-orders-block p-15 mb-20"},i().createElement("div",{className:"d-flex justify-content-between mb-2"},i().createElement("div",{className:"font-w700"},i().createElement("h4",{className:"mb-0 ".concat("true"===localStorage.getItem("deliveryAppLightMode")?"text-dark":"text-white")},"#",e.order.unique_order_id.substr(e.order.unique_order_id.length-6))),i().createElement("div",null,"true"===localStorage.getItem("showFromNowDate")?i().createElement(b(),{fromNow:!0},e.updated_at):i().createElement(b(),{format:"DD/MM/YYYY hh:mma"},e.updated_at))),i().createElement("div",{className:"d-flex justify-content-between mb-2"},i().createElement("div",{className:"mr-4"},e.is_complete?i().createElement("span",{className:"btn btn-sm btn-delivery-success min-width-125"},localStorage.getItem("deliveryCompletedText")):i().createElement("span",{className:"btn btn-sm btn-delivery-ongoing min-width-125"},localStorage.getItem("deliveryOnGoingText"))),i().createElement("div",null,"COD"===e.order.payment_mode?i().createElement("span",{className:"btn btn-sm btn-delivery-success min-width-175"},localStorage.getItem("deliveryCashOnDelivery"),":"," ","left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),e.order.payable,"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat")):i().createElement("span",{className:"btn btn-sm btn-delivery-success min-width-175"},i().createElement("i",{className:"si si-check mr-2"})," ",localStorage.getItem("deliveryOnlinePayment")))),i().createElement("div",null,i().createElement("i",{className:"si si-pointer mr-1"})," ",e.order.address)))}}]),r}(s.Component),Z=D,T=r(3894),A=function(e){(0,l.Z)(r,e);var t=(0,o.Z)(r);function r(){var e;(0,a.Z)(this,r);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={series:[{name:"Earnings",data:[0,0,0,0,0,0,0]}],options:{chart:{height:350,type:"line",zoom:{enabled:!1},dropShadow:{enabled:!0,top:0,left:0,blur:3,opacity:.8},toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{curve:"smooth",colors:["#18c775"]},title:{text:localStorage.getItem("deliveryLastSevenDaysEarningTitle"),align:"left",style:{color:"#fafafa"}},grid:{row:{colors:["#222b45","transparent"],opacity:1}},xaxis:{labels:{style:{colors:["#fafafa","#fafafa","#fafafa","#fafafa","#fafafa","#fafafa","#fafafa"]}}},yaxis:{labels:{style:{colors:["#fafafa","#fafafa","#fafafa","#fafafa","#fafafa","#fafafa","#fafafa"]}}},test:{name:"saurabh",age:"27"}}},e}return(0,n.Z)(r,[{key:"componentWillReceiveProps",value:function(e){var t=[{name:"Earnings",data:e.data.chartData}];this.setState({series:t})}},{key:"render",value:function(){return i().createElement(i().Fragment,null,i().createElement(T.Z,{options:this.state.options,series:this.state.series,type:"line",height:350}))}}]),r}(s.Component),F=A,C=function(e){(0,l.Z)(r,e);var t=(0,o.Z)(r);function r(){return(0,a.Z)(this,r),t.apply(this,arguments)}return(0,n.Z)(r,[{key:"render",value:function(){var e=this.props.transaction;return i().createElement(i().Fragment,null,i().createElement("div",{className:"delivery-account-orders-block p-15 mb-20"},i().createElement("div",{className:"d-flex justify-content-between mb-2"},i().createElement("div",null,i().createElement("h4",{className:"mb-0 ".concat("true"===localStorage.getItem("deliveryAppLightMode")?"text-dark":"text-white")},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),e.amount/100,"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"))),i().createElement("div",null,"true"===localStorage.getItem("showFromNowDate")?i().createElement(b(),{fromNow:!0},e.created_at):i().createElement(b(),{format:"DD/MM/YYYY hh:mma"},e.created_at))),i().createElement("div",{className:"mb-2 float-right"},"deposit"===e.type&&i().createElement("span",{className:"btn btn-sm delivery-wallet-deposit min-width-125"},localStorage.getItem("walletDepositText")),"withdraw"===e.type&&i().createElement("span",{className:"btn btn-sm delivery-wallet-withdraw min-width-125"},localStorage.getItem("walletWithdrawText"))),i().createElement("div",null,e.meta.description)))}}]),r}(s.Component),L=C,M=function(e){(0,l.Z)(r,e);var t=(0,o.Z)(r);function r(){var e;(0,a.Z)(this,r);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={series:[{name:"Earnings",data:[0,0,0,0,0,0,0]}],options:{chart:{height:350,type:"line",zoom:{enabled:!1},dropShadow:{enabled:!0,top:0,left:0,blur:3,opacity:.8},toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{curve:"smooth",colors:["#18c775"]},title:{text:localStorage.getItem("deliveryLastSevenDaysEarningTitle"),align:"left",style:{color:"#222b45"}},grid:{row:{colors:["#eee","transparent"],opacity:1}},xaxis:{labels:{style:{colors:["#222b45","#222b45","#222b45","#222b45","#222b45","#222b45","#222b45"]}}},yaxis:{labels:{style:{colors:["#222b45","#222b45","#222b45","#222b45","#222b45","#222b45","#222b45"]}}},test:{name:"saurabh",age:"27"}}},e}return(0,n.Z)(r,[{key:"componentWillReceiveProps",value:function(e){var t=[{name:"Earnings",data:e.data.chartData}];this.setState({series:t})}},{key:"render",value:function(){return i().createElement(i().Fragment,null,i().createElement(T.Z,{options:this.state.options,series:this.state.series,type:"line",height:350}))}}]),r}(s.Component),Y=M,P=function(e){(0,l.Z)(r,e);var t=(0,o.Z)(r);function r(){var e;(0,a.Z)(this,r);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).getRatingStars=function(e){var t="rating-green";return e<=3&&(t="rating-orange"),e<=2&&(t="rating-red"),i().createElement("span",{className:"store-rating "+t},e," ",i().createElement("i",{className:"fa fa-star text-white"}))},e}return(0,n.Z)(r,[{key:"render",value:function(){return i().createElement(i().Fragment,null,i().createElement("div",{className:"delivery-account-orders-block p-15 mb-20"},i().createElement("p",{className:"mb-0"},i().createElement("span",{className:"ml-1"},this.getRatingStars(this.props.rating))),i().createElement("p",{className:"mb-2"},this.props.review)))}}]),r}(s.Component),j=P,z=r(8904),G=function(e){(0,l.Z)(r,e);var t=(0,o.Z)(r);function r(){var e;(0,a.Z)(this,r);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={loading:!1,show_orderhistory:!0,show_earnings:!1,show_reviews:!1,show_completedOrders:!1,delivery_status:null,no_completedOrders:!1,completedOrders:[],next_page:p.tS,loading_more:!1},e.filterOnGoingOrders=function(){e.props.updateDeliveryOrderHistory(e.props.delivery_user.data.orders.filter((function(e){return 0===e.is_complete}))),e.setState({show_orderhistory:!0,show_earnings:!1,show_completedOrders:!1}),e.removeScrollEvent(),e.setState({completedOrders:[],next_page:p.tS})},e.filterCompletedOrders=function(){e.__getCompletedOrder(e.props.delivery_user.data.auth_token),e.setState({show_orderhistory:!1,show_earnings:!1,show_reviews:!1,show_completedOrders:!0})},e.__getCompletedOrder=function(t){e.state.loading||(e.setState({loading:!0}),e.registerScrollEvent(),h().post(e.state.next_page,{token:t}).then((function(t){var r=t.data,a=r.data;console.log("Next Page URL: "+r.next_page_url),a.length?e.setState({completedOrders:[].concat((0,O.Z)(e.state.completedOrders),(0,O.Z)(a)),next_page:r.next_page_url,loading:!1,loading_more:!1}):e.setState({completedOrders:[],loading:!1,loading_more:!1}),r.next_page_url||e.removeScrollEvent()})))},e.scrollFunc=function(){if(document.documentElement.scrollTop+50+window.innerHeight>document.documentElement.offsetHeight||document.documentElement.scrollTop+50+window.innerHeight===document.documentElement.offsetHeight){var t=e.props.delivery_user;e.setState({loading_more:!0}),e.__getCompletedOrder(t.data.auth_token)}},e.showEarningsTable=function(){e.setState({show_orderhistory:!1,show_earnings:!0,show_reviews:!1,show_completedOrders:!1}),e.removeScrollEvent(),e.setState({completedOrders:[],next_page:p.tS})},e.showReviews=function(){e.setState({show_orderhistory:!1,show_earnings:!1,show_reviews:!0,show_completedOrders:!1}),e.removeScrollEvent(),e.setState({completedOrders:[],next_page:p.tS})},e.handleToggleLightDarkMode=function(){null!==localStorage.getItem("deliveryAppLightMode")?new Promise((function(e){localStorage.removeItem("deliveryAppLightMode"),e("Removed Light State")})).then((function(){window.location.reload()})):new Promise((function(e){localStorage.setItem("deliveryAppLightMode","true"),e("Set Light State")})).then((function(){window.location.reload()}))},e.toggleDeliveryOnOffStatus=function(){e.setState({loading:!0});var t=e.props.delivery_user;e.props.toggleDeliveryGuyStatus(t.data.auth_token).then((function(){e.setState({loading:!1})}))},e.__changeStatusAndLogoutDelivery=function(){var t=e.props.delivery_user;t.success&&"PickaAndroidWebViewUA"===navigator.userAgent&&"undefined"!==window.Android&&window.Android.logoutDelivery(),e.props.toggleDeliveryGuyStatus(t.data.auth_token,!0).then((function(){e.props.logoutDeliveryUser()}))},e}return(0,n.Z)(r,[{key:"componentDidMount",value:function(){var e=this.props.delivery_user;this.props.updateDeliveryUserInfo(e.data.id,e.data.auth_token),document.getElementsByTagName("body")[0].classList.remove("bg-grey")}},{key:"registerScrollEvent",value:function(){window.addEventListener("scroll",this.scrollFunc)}},{key:"removeScrollEvent",value:function(){window.removeEventListener("scroll",this.scrollFunc)}},{key:"componentWillReceiveProps",value:function(e){this.props.delivery_user!==e.delivery_user&&this.setState({delivery_status:e.delivery_user.data.status})}},{key:"componentWillUnmount",value:function(){this.removeScrollEvent()}},{key:"render",value:function(){var e=this,t=this.props,r=t.delivery_user,a=t.order_history;return i().createElement(i().Fragment,null,this.state.loading&&i().createElement(z.Z,null),i().createElement("div",{className:"d-flex justify-content-between nav-dark"},i().createElement("div",{className:"delivery-tab-title px-20 py-15"},localStorage.getItem("deliveryWelcomeMessage")," ",r.data.name),i().createElement("div",{className:"delivery-order-refresh"},i().createElement("button",{className:"btn btn-delivery-logout mr-15",onClick:function(){return e.__changeStatusAndLogoutDelivery()}},localStorage.getItem("deliveryLogoutDelivery")," ",i().createElement("i",{className:"si si-logout"})))),i().createElement("div",null,i().createElement("button",{onClick:this.handleToggleLightDarkMode,className:"btn btn-default btn-block btn-toggleLightDark"},localStorage.getItem("deliveryToggleLightDarkMode"))),i().createElement("div",{onClick:this.toggleDeliveryOnOffStatus,className:"d-flex justify-content-center my-2"},null===this.state.delivery_status?i().createElement("div",{className:"delivery-guy-status delivery-guy-status-neutral"},i().createElement("span",null,i().createElement("div",{className:"spin-load"}))):i().createElement(i().Fragment,null,this.state.delivery_status?i().createElement("div",{className:"delivery-guy-status delivery-guy-online"},i().createElement("span",null,localStorage.getItem("deliveryAppYouAreOnlineBtn"))):i().createElement("div",{className:"delivery-guy-status delivery-guy-offline"},i().createElement("span",null,localStorage.getItem("deliveryAppYouAreOfflineBtn"))))),i().createElement("div",{className:"mb-100 pt-20"},i().createElement("div",{className:"pr-5"},"true"===localStorage.getItem("deliveryAppLightMode")?i().createElement(Y,{data:r.chart}):i().createElement(F,{data:r.chart})),i().createElement("div",{className:"row gutters-tiny px-15 mt-20"},"true"===localStorage.getItem("enableDeliveryGuyEarning")&&i().createElement(i().Fragment,null,i().createElement("div",{className:"col-6",onClick:function(){return e.showEarningsTable()}},i().createElement("div",{className:"block shadow-light delivery-block-transparent",style:{position:"relative"}},i().createElement("div",{className:"block-content block-content-full clearfix text-white"},i().createElement("div",{className:"font-size-h3 font-w600"},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),i().createElement(N.Z,{to:r.data.wallet_balance,speed:1e3,className:"font-size-h3 font-w600",easing:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},digits:2}),"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),i().createElement("div",{className:"font-size-sm font-w600 text-uppercase"},localStorage.getItem("deliveryEarningsText")))),i().createElement(E(),{duration:"500",hasTouch:"true"}))),i().createElement("div",{className:"col-6",onClick:function(){return e.showEarningsTable()}},i().createElement("div",{className:"block shadow-light delivery-block-transparent",style:{position:"relative"}},i().createElement("div",{className:"block-content block-content-full clearfix text-white"},i().createElement("div",{className:"font-size-h3 font-w600"},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),i().createElement(N.Z,{to:r.data.totalEarnings,speed:1e3,className:"font-size-h3 font-w600",easing:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},digits:2}),"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),i().createElement("div",{className:"font-size-sm font-w600 text-uppercase"},localStorage.getItem("deliveryTotalEarningsText")))),i().createElement(E(),{duration:"500",hasTouch:"true"})))),i().createElement("div",{className:"col-6 col-xl-3",onClick:function(){return e.filterOnGoingOrders()}},i().createElement("div",{className:"block shadow-medium delivery-block-ongoing",style:{position:"relative"}},i().createElement("div",{className:"block-content block-content-full clearfix text-white"},i().createElement("div",{className:"float-right mt-10"},i().createElement("i",{className:"si si-control-forward fa-3x"})),i().createElement(N.Z,{to:r.data.onGoingCount,speed:1e3,className:"font-size-h3 font-w600",easing:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}}),i().createElement("div",{className:"font-size-sm font-w600 text-uppercase"},localStorage.getItem("deliveryOnGoingText"))),i().createElement(E(),{duration:"500",hasTouch:"true"}))),i().createElement("div",{className:"col-6 col-xl-3",onClick:function(){return e.filterCompletedOrders()}},i().createElement("div",{className:"block shadow-medium delivery-block-completed",style:{position:"relative"}},i().createElement("div",{className:"block-content block-content-full clearfix text-white"},i().createElement("div",{className:"float-right mt-10"},i().createElement("i",{className:"si si-check fa-3x"})),i().createElement(N.Z,{to:r.data.completedCount,speed:1e3,className:"font-size-h3 font-w600",easing:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}}),i().createElement("div",{className:"font-size-sm font-w600 text-uppercase"},localStorage.getItem("deliveryCompletedText"))),i().createElement(E(),{duration:"500",hasTouch:"true"}))),"true"===localStorage.getItem("showDeliveryCollection")&&i().createElement("div",{className:"col"},i().createElement("div",{className:"block shadow-light delivery-block-transparent",style:{position:"relative"}},i().createElement("div",{className:"block-content block-content-full clearfix text-white"},i().createElement("div",{className:"font-size-h3 font-w600"},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),i().createElement(N.Z,{to:r.data.deliveryCollection,speed:1e3,className:"font-size-h3 font-w600",easing:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},digits:2}),"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),i().createElement("div",{className:"font-size-sm font-w600 text-uppercase"},localStorage.getItem("deliveryCollectionText")))),i().createElement(E(),{duration:"500",hasTouch:"true"}))),i().createElement("div",{className:"col",onClick:function(){return e.showReviews()}},i().createElement("div",{className:"block shadow-light delivery-block-transparent",style:{position:"relative"}},i().createElement("div",{className:"block-content block-content-full clearfix text-white"},i().createElement("div",{className:"font-size-h3 font-w600"},i().createElement("i",{className:"fa fa-star mr-1"}),r.data.averageRating,i().createElement("div",{className:"font-size-sm font-w600 text-uppercase"},localStorage.getItem("reviewsPageTitle")))),i().createElement(E(),{duration:"500",hasTouch:"true"})))),this.state.show_completedOrders&&i().createElement("div",{className:"orders-history px-15 mt-20"},this.state.completedOrders&&this.state.completedOrders.length>0?this.state.completedOrders.map((function(e){return i().createElement(Z,{order:e,key:e.id})})):null),this.state.show_orderhistory&&i().createElement("div",{className:"orders-history px-15 mt-20"},a&&a.length>0?a.map((function(e){return i().createElement(Z,{order:e,key:e.id})})):null),this.state.show_earnings&&i().createElement("div",{className:"delivery-earnings px-15 mt-20"},r.data.earnings&&r.data.earnings.map((function(e){return i().createElement(L,{key:e.id,transaction:e})}))),this.state.show_reviews&&i().createElement("div",{className:"delivery-reviews px-15 mt-20"},r.data.ratings&&r.data.ratings.map((function(e){return i().createElement(j,{key:e.id,rating:e.rating_delivery,review:e.review_delivery})})))))}}]),r}(s.Component);G.contextTypes={router:function(){return null}};var W=(0,u.$j)((function(e){return{delivery_user:e.delivery_user.delivery_user,order_history:e.delivery_user.order_history}}),{updateDeliveryUserInfo:v.ty,updateDeliveryOrderHistory:v.Iv,toggleDeliveryGuyStatus:v.mb})(G),q=r(5604),U=(r(5215),function(e){(0,l.Z)(r,e);var t=(0,o.Z)(r);function r(){var e;(0,a.Z)(this,r);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).__refreshOrders=function(){e.refs.btnSpinner&&e.refs.btnSpinner.classList.add("fa-spin"),setTimeout((function(){e.refs.btnSpinner&&e.refs.btnSpinner.classList.remove("fa-spin")}),2e3),e.props.refreshOrders()},e.getDeliveryGuyTotalEarning=function(e){var t=0;return e.commission&&(t+=parseFloat(e.commission)),e.tip_amount&&(t+=parseFloat(e.tip_amount)),t},e}return(0,n.Z)(r,[{key:"componentDidMount",value:function(){document.getElementsByTagName("body")[0].classList.remove("bg-grey"),document.getElementsByTagName("body")[0].classList.add("delivery-dark-bg")}},{key:"render",value:function(){var e=this,t=this.props.pickedup_orders;return i().createElement(i().Fragment,null,i().createElement("div",{className:"mb-100"},i().createElement("div",{className:"d-flex justify-content-between nav-dark"},i().createElement("div",{className:"delivery-tab-title px-20 py-15"},localStorage.getItem("deliveryPickedupOrdersTitle")),i().createElement("div",{className:"delivery-order-refresh"},i().createElement("button",{className:"btn btn-refreshOrders mr-15",onClick:this.__refreshOrders,style:{position:"relative"}},localStorage.getItem("deliveryOrdersRefreshBtn")," ",i().createElement("i",{ref:"btnSpinner",className:"fa fa-refresh"}),i().createElement(E(),{duration:1200})))),0===t.length?i().createElement("p",{className:"text-center text-muted py-15 mb-10 bg-white"},localStorage.getItem("deliveryNoPickedupOrdersMsg")):i().createElement("div",{className:"p-15"},i().createElement("div",{className:"delivery-list-wrapper pb-20"},t.map((function(t){return i().createElement(_.Z,{to:"/orders/".concat(t.unique_order_id),key:t.id,style:{position:"relative"}},i().createElement("div",{className:"delivery-list-item px-15 pb-5 pt-15"},i().createElement("div",{className:"d-flex justify-content-between"},i().createElement("div",null,i().createElement("p",{className:"m-0"},"true"===localStorage.getItem("showFromNowDate")?i().createElement(b(),{fromNow:!0},t.updated_at):i().createElement(b(),{format:"DD/MM/YYYY hh:mma"},t.updated_at))),i().createElement("div",null,"true"===localStorage.getItem("enableDeliveryGuyEarning")&&i().createElement("p",{className:"m-0 list-delivery-commission"},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),i().createElement(N.Z,{to:e.getDeliveryGuyTotalEarning(t),speed:1e3,digits:2}),"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat")))),i().createElement("div",{className:"d-flex justify-content-between"},i().createElement("div",{className:"font-w700 list-delivery-store-name"},t.restaurant.name),i().createElement("div",null,i().createElement("p",{className:"m-0 font-w700"},"#",t.unique_order_id.substr(t.unique_order_id.length-8)))),i().createElement("p",null,"true"===localStorage.getItem("showDeliveryFullAddressOnList")?i().createElement("span",null,t.address):i().createElement("span",{className:"d-flex align-items-center"},i().createElement("i",{className:"si si-pointer mr-2"}),i().createElement("span",{style:{maxWidth:"100%",display:"block"},className:"truncate-text"},t.address)))),i().createElement(E(),{duration:"500",hasTouch:"true"}))}))))))}}]),r}(s.Component)),B=U,R=function(e){(0,l.Z)(r,e);var t=(0,o.Z)(r);function r(){var e;(0,a.Z)(this,r);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={play:!1,tabIndex:0},e.audio=new Audio("/assets/audio/delivery-notification.mp3"),e.__refreshOrders=function(){var t=e.props.delivery_user;t.success&&t.data.status&&(console.log("refresh orders called"),e.props.getDeliveryOrders(e.props.delivery_user.data.auth_token))},e.getLocationName=function(e){try{return console.log("Came to try"),i().createElement("span",{style:{maxWidth:"100px",display:"block"},className:"truncate-text"},JSON.parse(e).address)}catch(t){return null}},e.onTabSelect=function(t){localStorage.setItem("deliveryTabIndex",t),e.setState({tabIndex:t})},e}return(0,n.Z)(r,[{key:"componentDidMount",value:function(){var e=this;this.props.delivery_user.success&&this.props.getDeliveryOrders(this.props.delivery_user.data.auth_token),this.refreshSetInterval=setInterval((function(){e.__refreshOrders()}),15e3)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.delivery_orders;t.new_orders&&e.delivery_orders.new_orders.length>t.new_orders.length&&"PickaAndroidWebViewUA"!==navigator.userAgent&&(this.audio.play(),"vibrate"in navigator&&navigator.vibrate(["100","150","100","100","150","100"]))}},{key:"componentWillUnmount",value:function(){clearInterval(this.refreshSetInterval)}},{key:"render",value:function(){var e=this;if(window.innerWidth>768)return i().createElement(d.Z,{to:"/"});var t=this.props.delivery_orders,r=t.accepted_orders,a=t.new_orders,n=t.pickedup_orders;return i().createElement(i().Fragment,null,i().createElement(m.Z,{seotitle:"Delivery Orders",seodescription:localStorage.getItem("seoMetaDescription"),ogtype:"website",ogtitle:localStorage.getItem("seoOgTitle"),ogdescription:localStorage.getItem("seoOgDescription"),ogurl:window.location.href,twittertitle:localStorage.getItem("seoTwitterTitle"),twitterdescription:localStorage.getItem("seoTwitterDescription")}),i().createElement(q.mQ,{selectedIndex:null===localStorage.getItem("deliveryTabIndex")?this.state.tabIndex:parseInt(localStorage.getItem("deliveryTabIndex")),onSelect:function(t){return e.onTabSelect(t)}},i().createElement("div",{className:"content font-size-xs clearfix footer-fixed",style:{display:"block",width:"100%",padding:"0",height:"4.6rem"}},i().createElement(q.td,null,i().createElement(q.OK,null,i().createElement("div",{className:"text-center"},i().createElement("span",{className:"cart-quantity-badge",style:{backgroundColor:"#f44336",top:"2px",left:"45px"}},a&&a.length),i().createElement("i",{className:"si si-bell fa-2x"})," ",i().createElement("br",null),localStorage.getItem("deliveryFooterNewTitle"),i().createElement(E(),{duration:"500",hasTouch:"true"}))),i().createElement(q.OK,null,i().createElement("div",{className:"text-center"},i().createElement("span",{className:"cart-quantity-badge",style:{backgroundColor:"#f44336",top:"2px",left:"45px"}},r&&r.length),i().createElement("i",{className:"si si-grid fa-2x"})," ",i().createElement("br",null),localStorage.getItem("deliveryFooterAcceptedTitle"),i().createElement(E(),{duration:"500",hasTouch:"true"}))),i().createElement(q.OK,null,i().createElement("div",{className:"text-center"},i().createElement("span",{className:"cart-quantity-badge",style:{backgroundColor:"#f44336",top:"2px",left:"45px"}},n&&n.length),i().createElement("i",{className:"si si-bag fa-2x"})," ",i().createElement("br",null),localStorage.getItem("deliveryFooterPickedup"),i().createElement(E(),{duration:"500",hasTouch:"true"}))),i().createElement(q.OK,null,i().createElement("div",{className:"text-center"},i().createElement("i",{className:"si si-user fa-2x"})," ",i().createElement("br",null)," ",localStorage.getItem("deliveryFooterAccount"),i().createElement(E(),{duration:"500",hasTouch:"true"}))))),i().createElement(q.x4,null,this.props.delivery_orders.new_orders?i().createElement(S,{refreshOrders:this.__refreshOrders,getLocationName:this.getLocationName,new_orders:this.props.delivery_orders.new_orders,delivery_user:this.props.delivery_user}):i().createElement("div",{className:"pt-50"},i().createElement(c.ZP,{height:window.innerHeight,width:window.innerWidth,speed:1.2,primaryColor:"true"===localStorage.getItem("deliveryAppLightMode")?"#E0E0E0":"#161b31",secondaryColor:"true"===localStorage.getItem("deliveryAppLightMode")?"#fefefe":"#222b45"},i().createElement("rect",{x:"15",y:"30",rx:"0",ry:"0",width:"150",height:"30"}),i().createElement("rect",{x:"283",y:"30",rx:"0",ry:"0",width:"75",height:"30"}),i().createElement("rect",{x:"15",y:"70",rx:"0",ry:"0",width:"250",height:"23"}),i().createElement("rect",{x:"15",y:"173",rx:"0",ry:"0",width:"150",height:"30"}),i().createElement("rect",{x:"283",y:"173",rx:"0",ry:"0",width:"75",height:"30"}),i().createElement("rect",{x:"15",y:"213",rx:"0",ry:"0",width:"250",height:"23"}),i().createElement("rect",{x:"15",y:"316",rx:"0",ry:"0",width:"150",height:"30"}),i().createElement("rect",{x:"283",y:"316",rx:"0",ry:"0",width:"75",height:"30"}),i().createElement("rect",{x:"15",y:"356",rx:"0",ry:"0",width:"250",height:"23"})))),i().createElement(q.x4,null,this.props.delivery_orders.accepted_orders?i().createElement(I,{refreshOrders:this.__refreshOrders,getLocationName:this.getLocationName,accepted_orders:this.props.delivery_orders.accepted_orders}):i().createElement("div",{className:"pt-50"},i().createElement(c.ZP,{height:window.innerHeight,width:window.innerWidth,speed:1.2,primaryColor:"#161b31",secondaryColor:"#222b45"},i().createElement("rect",{x:"15",y:"30",rx:"0",ry:"0",width:"150",height:"30"}),i().createElement("rect",{x:"283",y:"30",rx:"0",ry:"0",width:"75",height:"30"}),i().createElement("rect",{x:"15",y:"70",rx:"0",ry:"0",width:"250",height:"23"}),i().createElement("rect",{x:"15",y:"173",rx:"0",ry:"0",width:"150",height:"30"}),i().createElement("rect",{x:"283",y:"173",rx:"0",ry:"0",width:"75",height:"30"}),i().createElement("rect",{x:"15",y:"213",rx:"0",ry:"0",width:"250",height:"23"}),i().createElement("rect",{x:"15",y:"316",rx:"0",ry:"0",width:"150",height:"30"}),i().createElement("rect",{x:"283",y:"316",rx:"0",ry:"0",width:"75",height:"30"}),i().createElement("rect",{x:"15",y:"356",rx:"0",ry:"0",width:"250",height:"23"})))),i().createElement(q.x4,null,this.props.delivery_orders.pickedup_orders?i().createElement(B,{refreshOrders:this.__refreshOrders,getLocationName:this.getLocationName,pickedup_orders:this.props.delivery_orders.pickedup_orders}):i().createElement("div",{className:"pt-50"},i().createElement(c.ZP,{height:window.innerHeight,width:window.innerWidth,speed:1.2,primaryColor:"#161b31",secondaryColor:"#222b45"},i().createElement("rect",{x:"15",y:"30",rx:"0",ry:"0",width:"150",height:"30"}),i().createElement("rect",{x:"283",y:"30",rx:"0",ry:"0",width:"75",height:"30"}),i().createElement("rect",{x:"15",y:"70",rx:"0",ry:"0",width:"250",height:"23"}),i().createElement("rect",{x:"15",y:"173",rx:"0",ry:"0",width:"150",height:"30"}),i().createElement("rect",{x:"283",y:"173",rx:"0",ry:"0",width:"75",height:"30"}),i().createElement("rect",{x:"15",y:"213",rx:"0",ry:"0",width:"250",height:"23"}),i().createElement("rect",{x:"15",y:"316",rx:"0",ry:"0",width:"150",height:"30"}),i().createElement("rect",{x:"283",y:"316",rx:"0",ry:"0",width:"75",height:"30"}),i().createElement("rect",{x:"15",y:"356",rx:"0",ry:"0",width:"250",height:"23"})))),i().createElement(q.x4,null,i().createElement(W,{delivery_user:this.props.delivery_user,logoutDeliveryUser:this.props.logoutDeliveryUser}))))}}]),r}(s.Component),H=(0,u.$j)((function(e){return{delivery_user:e.delivery_user.delivery_user,delivery_orders:e.delivery_orders.delivery_orders}}),{getDeliveryOrders:function(e){return function(t){h().post(p.Qj,{token:e}).then((function(e){var r=e.data;return t({type:g.F,payload:r})})).catch((function(e){console.log(e)}))}},logoutDeliveryUser:v.UK})(R)},1722:function(e,t,r){var a=r(5671),n=r(3144),l=r(136),o=r(8557),s=r(8381),i=r.n(s),c=r(1118),m=function(e){(0,l.Z)(r,e);var t=(0,o.Z)(r);function r(){return(0,a.Z)(this,r),t.apply(this,arguments)}return(0,n.Z)(r,[{key:"render",value:function(){return i().createElement(i().Fragment,null,i().createElement(c.ql,null,i().createElement("title",null,this.props.seotitle),i().createElement("meta",{name:"description",content:this.props.seodescription}),i().createElement("meta",{property:"og:type",content:this.props.ogtype}),i().createElement("meta",{property:"og:title",content:this.props.ogtitle}),i().createElement("meta",{property:"og:description",content:this.props.ogdescription}),i().createElement("meta",{property:"og:url",content:this.props.ogurl}),i().createElement("meta",{property:"og:site_name",content:localStorage.getItem("storeName")}),i().createElement("meta",{property:"og:image",content:"/assets/img/social/ogimage.png"}),i().createElement("meta",{name:"twitter:card",content:"summary"}),i().createElement("meta",{name:"twitter:title",content:this.props.twittertitle}),i().createElement("meta",{name:"twitter:description",content:this.props.twitterdescription}),i().createElement("meta",{name:"twitter:site",content:"@".concat(localStorage.getItem("twitterUsername"))}),i().createElement("meta",{name:"twitter:image",content:"/assets/img/social/twitterimage.png"})))}}]),r}(s.Component);t.Z=m},4521:function(e,t,r){r.d(t,{$M:function(){return s},Iv:function(){return m},UK:function(){return i},mb:function(){return d},ty:function(){return c}});var a=r(4015),n=r(2461),l=r(4446),o=r.n(l),s=function(e,t){return function(r){o().post(n.i8,{driver_id:e,password:t}).then((function(e){var t=e.data;return r({type:a.LB,payload:t})})).catch((function(e){console.log(e)}))}},i=function(){return function(e){e({type:a.EK,payload:[]})}},c=function(e,t){return function(r){o().post(n.l1,{token:t,user_id:e}).then((function(e){var t={delivery_user:e.data,order_history:e.data.data.orders};return r({type:a.X_,payload:t})})).catch((function(e){console.log(e)}))}},m=function(e){return function(t){t({type:a.be,payload:e})}},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(r){return o().post(n.UY,{token:e,toggle_status:!0,force_offline:t}).then((function(e){var t={delivery_user:e.data,order_history:e.data.data.orders};return r({type:a.X_,payload:t})})).catch((function(e){console.log(e)}))}}}}]);
//# sourceMappingURL=891.dd63d0ce.chunk.js.map